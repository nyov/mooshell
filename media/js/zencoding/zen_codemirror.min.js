var zen_editor=(function(){var b={"variables":{"lang":"en","locale":"en-US","charset":"UTF-8","indentation":"\t"},"css":{"filters":"html,css","snippets":{"@i":"@import url(|);","@m":"@media print {\n\t|\n}","@f":"@font-face {\n\tfont-family:|;\n\tsrc:url(|);\n}","!":"!important","pos":"position:|;","pos:s":"position:static;","pos:a":"position:absolute;","pos:r":"position:relative;","pos:f":"position:fixed;","t":"top:|;","t:a":"top:auto;","r":"right:|;","r:a":"right:auto;","b":"bottom:|;","b:a":"bottom:auto;","brad":"-webkit-border-radius: ${1:radius};\n-moz-border-radius: $1;\n-ms-border-radius: $1;\nborder-radius: $1;","bsha":"-webkit-box-shadow: ${1:hoff} ${2:voff} ${3:blur} ${4:rgba(0,0,0,0.5)};\n-moz-box-shadow: $1 $2 $3 $4;\n-ms-box-shadow: $1 $2 $3 $4;\nbox-shadow: $1 $2 $3 $4;","l":"left:|;","l:a":"left:auto;","z":"z-index:|;","z:a":"z-index:auto;","fl":"float:|;","fl:n":"float:none;","fl:l":"float:left;","fl:r":"float:right;","cl":"clear:|;","cl:n":"clear:none;","cl:l":"clear:left;","cl:r":"clear:right;","cl:b":"clear:both;","d":"display:|;","d:n":"display:none;","d:b":"display:block;","d:i":"display:inline;","d:ib":"display:inline-block;","d:li":"display:list-item;","d:ri":"display:run-in;","d:cp":"display:compact;","d:tb":"display:table;","d:itb":"display:inline-table;","d:tbcp":"display:table-caption;","d:tbcl":"display:table-column;","d:tbclg":"display:table-column-group;","d:tbhg":"display:table-header-group;","d:tbfg":"display:table-footer-group;","d:tbr":"display:table-row;","d:tbrg":"display:table-row-group;","d:tbc":"display:table-cell;","d:rb":"display:ruby;","d:rbb":"display:ruby-base;","d:rbbg":"display:ruby-base-group;","d:rbt":"display:ruby-text;","d:rbtg":"display:ruby-text-group;","v":"visibility:|;","v:v":"visibility:visible;","v:h":"visibility:hidden;","v:c":"visibility:collapse;","ov":"overflow:|;","ov:v":"overflow:visible;","ov:h":"overflow:hidden;","ov:s":"overflow:scroll;","ov:a":"overflow:auto;","ovx":"overflow-x:|;","ovx:v":"overflow-x:visible;","ovx:h":"overflow-x:hidden;","ovx:s":"overflow-x:scroll;","ovx:a":"overflow-x:auto;","ovy":"overflow-y:|;","ovy:v":"overflow-y:visible;","ovy:h":"overflow-y:hidden;","ovy:s":"overflow-y:scroll;","ovy:a":"overflow-y:auto;","ovs":"overflow-style:|;","ovs:a":"overflow-style:auto;","ovs:s":"overflow-style:scrollbar;","ovs:p":"overflow-style:panner;","ovs:m":"overflow-style:move;","ovs:mq":"overflow-style:marquee;","zoo":"zoom:1;","cp":"clip:|;","cp:a":"clip:auto;","cp:r":"clip:rect(|);","bxz":"box-sizing:|;","bxz:cb":"box-sizing:content-box;","bxz:bb":"box-sizing:border-box;","bxsh":"box-shadow:|;","bxsh:n":"box-shadow:none;","bxsh:w":"-webkit-box-shadow:0 0 0 #000;","bxsh:m":"-moz-box-shadow:0 0 0 0 #000;","m":"margin:|;","m:a":"margin:auto;","m:0":"margin:0;","m:2":"margin:0 0;","m:3":"margin:0 0 0;","m:4":"margin:0 0 0 0;","mt":"margin-top:|;","mt:a":"margin-top:auto;","mr":"margin-right:|;","mr:a":"margin-right:auto;","mb":"margin-bottom:|;","mb:a":"margin-bottom:auto;","ml":"margin-left:|;","ml:a":"margin-left:auto;","p":"padding:|;","p:0":"padding:0;","p:2":"padding:0 0;","p:3":"padding:0 0 0;","p:4":"padding:0 0 0 0;","pt":"padding-top:|;","pr":"padding-right:|;","pb":"padding-bottom:|;","pl":"padding-left:|;","w":"width:|;","w:a":"width:auto;","h":"height:|;","h:a":"height:auto;","maw":"max-width:|;","maw:n":"max-width:none;","mah":"max-height:|;","mah:n":"max-height:none;","miw":"min-width:|;","mih":"min-height:|;","o":"outline:|;","o:n":"outline:none;","oo":"outline-offset:|;","ow":"outline-width:|;","os":"outline-style:|;","oc":"outline-color:#000;","oc:i":"outline-color:invert;","bd":"border:|;","bd+":"border:1px solid #000;","bd:n":"border:none;","bdbk":"border-break:|;","bdbk:c":"border-break:close;","bdcl":"border-collapse:|;","bdcl:c":"border-collapse:collapse;","bdcl:s":"border-collapse:separate;","bdc":"border-color:#000;","bdi":"border-image:url(|);","bdi:n":"border-image:none;","bdi:w":"-webkit-border-image:url(|) 0 0 0 0 stretch stretch;","bdi:m":"-moz-border-image:url(|) 0 0 0 0 stretch stretch;","bdti":"border-top-image:url(|);","bdti:n":"border-top-image:none;","bdri":"border-right-image:url(|);","bdri:n":"border-right-image:none;","bdbi":"border-bottom-image:url(|);","bdbi:n":"border-bottom-image:none;","bdli":"border-left-image:url(|);","bdli:n":"border-left-image:none;","bdci":"border-corner-image:url(|);","bdci:n":"border-corner-image:none;","bdci:c":"border-corner-image:continue;","bdtli":"border-top-left-image:url(|);","bdtli:n":"border-top-left-image:none;","bdtli:c":"border-top-left-image:continue;","bdtri":"border-top-right-image:url(|);","bdtri:n":"border-top-right-image:none;","bdtri:c":"border-top-right-image:continue;","bdbri":"border-bottom-right-image:url(|);","bdbri:n":"border-bottom-right-image:none;","bdbri:c":"border-bottom-right-image:continue;","bdbli":"border-bottom-left-image:url(|);","bdbli:n":"border-bottom-left-image:none;","bdbli:c":"border-bottom-left-image:continue;","bdf":"border-fit:|;","bdf:c":"border-fit:clip;","bdf:r":"border-fit:repeat;","bdf:sc":"border-fit:scale;","bdf:st":"border-fit:stretch;","bdf:ow":"border-fit:overwrite;","bdf:of":"border-fit:overflow;","bdf:sp":"border-fit:space;","bdl":"border-length:|;","bdl:a":"border-length:auto;","bdsp":"border-spacing:|;","bds":"border-style:|;","bds:n":"border-style:none;","bds:h":"border-style:hidden;","bds:dt":"border-style:dotted;","bds:ds":"border-style:dashed;","bds:s":"border-style:solid;","bds:db":"border-style:double;","bds:dtds":"border-style:dot-dash;","bds:dtdtds":"border-style:dot-dot-dash;","bds:w":"border-style:wave;","bds:g":"border-style:groove;","bds:r":"border-style:ridge;","bds:i":"border-style:inset;","bds:o":"border-style:outset;","bdw":"border-width:|;","bdt":"border-top:|;","bdt+":"border-top:1px solid #000;","bdt:n":"border-top:none;","bdtw":"border-top-width:|;","bdts":"border-top-style:|;","bdts:n":"border-top-style:none;","bdtc":"border-top-color:#000;","bdr":"border-right:|;","bdr+":"border-right:1px solid #000;","bdr:n":"border-right:none;","bdrw":"border-right-width:|;","bdrs":"border-right-style:|;","bdrs:n":"border-right-style:none;","bdrc":"border-right-color:#000;","bdb":"border-bottom:|;","bdb+":"border-bottom:1px solid #000;","bdb:n":"border-bottom:none;","bdbw":"border-bottom-width:|;","bdbs":"border-bottom-style:|;","bdbs:n":"border-bottom-style:none;","bdbc":"border-bottom-color:#000;","bdl":"border-left:|;","bdl+":"border-left:1px solid #000;","bdl:n":"border-left:none;","bdlw":"border-left-width:|;","bdls":"border-left-style:|;","bdls:n":"border-left-style:none;","bdlc":"border-left-color:#000;","bdrs":"border-radius:|;","bdtrrs":"border-top-right-radius:|;","bdtlrs":"border-top-left-radius:|;","bdbrrs":"border-bottom-right-radius:|;","bdblrs":"border-bottom-left-radius:|;","bg":"background:|;","bg+":"background:#FFF url(|) 0 0 no-repeat;","bg:n":"background:none;","bg:ie":"filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='|x.png');","bgc":"background-color:#FFF;","bgi":"background-image:url(|);","bgi:n":"background-image:none;","bgr":"background-repeat:|;","bgr:n":"background-repeat:no-repeat;","bgr:x":"background-repeat:repeat-x;","bgr:y":"background-repeat:repeat-y;","bga":"background-attachment:|;","bga:f":"background-attachment:fixed;","bga:s":"background-attachment:scroll;","bgp":"background-position:0 0;","bgpx":"background-position-x:|;","bgpy":"background-position-y:|;","bgbk":"background-break:|;","bgbk:bb":"background-break:bounding-box;","bgbk:eb":"background-break:each-box;","bgbk:c":"background-break:continuous;","bgcp":"background-clip:|;","bgcp:bb":"background-clip:border-box;","bgcp:pb":"background-clip:padding-box;","bgcp:cb":"background-clip:content-box;","bgcp:nc":"background-clip:no-clip;","bgo":"background-origin:|;","bgo:pb":"background-origin:padding-box;","bgo:bb":"background-origin:border-box;","bgo:cb":"background-origin:content-box;","bgz":"background-size:|;","bgz:a":"background-size:auto;","bgz:ct":"background-size:contain;","bgz:cv":"background-size:cover;","c":"color:#000;","tbl":"table-layout:|;","tbl:a":"table-layout:auto;","tbl:f":"table-layout:fixed;","cps":"caption-side:|;","cps:t":"caption-side:top;","cps:b":"caption-side:bottom;","ec":"empty-cells:|;","ec:s":"empty-cells:show;","ec:h":"empty-cells:hide;","lis":"list-style:|;","lis:n":"list-style:none;","lisp":"list-style-position:|;","lisp:i":"list-style-position:inside;","lisp:o":"list-style-position:outside;","list":"list-style-type:|;","list:n":"list-style-type:none;","list:d":"list-style-type:disc;","list:c":"list-style-type:circle;","list:s":"list-style-type:square;","list:dc":"list-style-type:decimal;","list:dclz":"list-style-type:decimal-leading-zero;","list:lr":"list-style-type:lower-roman;","list:ur":"list-style-type:upper-roman;","lisi":"list-style-image:|;","lisi:n":"list-style-image:none;","q":"quotes:|;","q:n":"quotes:none;","q:ru":"quotes:'\00AB' '\00BB' '\201E' '\201C';","q:en":"quotes:'\201C' '\201D' '\2018' '\2019';","ct":"content:|;","ct:n":"content:normal;","ct:oq":"content:open-quote;","ct:noq":"content:no-open-quote;","ct:cq":"content:close-quote;","ct:ncq":"content:no-close-quote;","ct:a":"content:attr(|);","ct:c":"content:counter(|);","ct:cs":"content:counters(|);","coi":"counter-increment:|;","cor":"counter-reset:|;","va":"vertical-align:|;","va:sup":"vertical-align:super;","va:t":"vertical-align:top;","va:tt":"vertical-align:text-top;","va:m":"vertical-align:middle;","va:bl":"vertical-align:baseline;","va:b":"vertical-align:bottom;","va:tb":"vertical-align:text-bottom;","va:sub":"vertical-align:sub;","ta":"text-align:|;","ta:l":"text-align:left;","ta:c":"text-align:center;","ta:r":"text-align:right;","tal":"text-align-last:|;","tal:a":"text-align-last:auto;","tal:l":"text-align-last:left;","tal:c":"text-align-last:center;","tal:r":"text-align-last:right;","td":"text-decoration:|;","td:n":"text-decoration:none;","td:u":"text-decoration:underline;","td:o":"text-decoration:overline;","td:l":"text-decoration:line-through;","te":"text-emphasis:|;","te:n":"text-emphasis:none;","te:ac":"text-emphasis:accent;","te:dt":"text-emphasis:dot;","te:c":"text-emphasis:circle;","te:ds":"text-emphasis:disc;","te:b":"text-emphasis:before;","te:a":"text-emphasis:after;","th":"text-height:|;","th:a":"text-height:auto;","th:f":"text-height:font-size;","th:t":"text-height:text-size;","th:m":"text-height:max-size;","ti":"text-indent:|;","ti:-":"text-indent:-9999px;","tj":"text-justify:|;","tj:a":"text-justify:auto;","tj:iw":"text-justify:inter-word;","tj:ii":"text-justify:inter-ideograph;","tj:ic":"text-justify:inter-cluster;","tj:d":"text-justify:distribute;","tj:k":"text-justify:kashida;","tj:t":"text-justify:tibetan;","to":"text-outline:|;","to+":"text-outline:0 0 #000;","to:n":"text-outline:none;","tr":"text-replace:|;","tr:n":"text-replace:none;","tt":"text-transform:|;","tt:n":"text-transform:none;","tt:c":"text-transform:capitalize;","tt:u":"text-transform:uppercase;","tt:l":"text-transform:lowercase;","tw":"text-wrap:|;","tw:n":"text-wrap:normal;","tw:no":"text-wrap:none;","tw:u":"text-wrap:unrestricted;","tw:s":"text-wrap:suppress;","tsh":"text-shadow:|;","tsh+":"text-shadow:0 0 0 #000;","tsh:n":"text-shadow:none;","lh":"line-height:|;","whs":"white-space:|;","whs:n":"white-space:normal;","whs:p":"white-space:pre;","whs:nw":"white-space:nowrap;","whs:pw":"white-space:pre-wrap;","whs:pl":"white-space:pre-line;","whsc":"white-space-collapse:|;","whsc:n":"white-space-collapse:normal;","whsc:k":"white-space-collapse:keep-all;","whsc:l":"white-space-collapse:loose;","whsc:bs":"white-space-collapse:break-strict;","whsc:ba":"white-space-collapse:break-all;","wob":"word-break:|;","wob:n":"word-break:normal;","wob:k":"word-break:keep-all;","wob:l":"word-break:loose;","wob:bs":"word-break:break-strict;","wob:ba":"word-break:break-all;","wos":"word-spacing:|;","wow":"word-wrap:|;","wow:nm":"word-wrap:normal;","wow:n":"word-wrap:none;","wow:u":"word-wrap:unrestricted;","wow:s":"word-wrap:suppress;","lts":"letter-spacing:|;","f":"font:|;","f+":"font:1em Arial,sans-serif;","fw":"font-weight:|;","fw:n":"font-weight:normal;","fw:b":"font-weight:bold;","fw:br":"font-weight:bolder;","fw:lr":"font-weight:lighter;","fs":"font-style:|;","fs:n":"font-style:normal;","fs:i":"font-style:italic;","fs:o":"font-style:oblique;","fv":"font-variant:|;","fv:n":"font-variant:normal;","fv:sc":"font-variant:small-caps;","fz":"font-size:|;","fza":"font-size-adjust:|;","fza:n":"font-size-adjust:none;","ff":"font-family:|;","ff:s":"font-family:serif;","ff:ss":"font-family:sans-serif;","ff:c":"font-family:cursive;","ff:f":"font-family:fantasy;","ff:m":"font-family:monospace;","fef":"font-effect:|;","fef:n":"font-effect:none;","fef:eg":"font-effect:engrave;","fef:eb":"font-effect:emboss;","fef:o":"font-effect:outline;","fem":"font-emphasize:|;","femp":"font-emphasize-position:|;","femp:b":"font-emphasize-position:before;","femp:a":"font-emphasize-position:after;","fems":"font-emphasize-style:|;","fems:n":"font-emphasize-style:none;","fems:ac":"font-emphasize-style:accent;","fems:dt":"font-emphasize-style:dot;","fems:c":"font-emphasize-style:circle;","fems:ds":"font-emphasize-style:disc;","fsm":"font-smooth:|;","fsm:a":"font-smooth:auto;","fsm:n":"font-smooth:never;","fsm:aw":"font-smooth:always;","fst":"font-stretch:|;","fst:n":"font-stretch:normal;","fst:uc":"font-stretch:ultra-condensed;","fst:ec":"font-stretch:extra-condensed;","fst:c":"font-stretch:condensed;","fst:sc":"font-stretch:semi-condensed;","fst:se":"font-stretch:semi-expanded;","fst:e":"font-stretch:expanded;","fst:ee":"font-stretch:extra-expanded;","fst:ue":"font-stretch:ultra-expanded;","op":"opacity:|;","op:ie":"filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=100);","op:ms":"-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';","rz":"resize:|;","rz:n":"resize:none;","rz:b":"resize:both;","rz:h":"resize:horizontal;","rz:v":"resize:vertical;","cur":"cursor:|;","cur:a":"cursor:auto;","cur:d":"cursor:default;","cur:c":"cursor:crosshair;","cur:ha":"cursor:hand;","cur:he":"cursor:help;","cur:m":"cursor:move;","cur:p":"cursor:pointer;","cur:t":"cursor:text;","pgbb":"page-break-before:|;","pgbb:au":"page-break-before:auto;","pgbb:al":"page-break-before:always;","pgbb:l":"page-break-before:left;","pgbb:r":"page-break-before:right;","pgbi":"page-break-inside:|;","pgbi:au":"page-break-inside:auto;","pgbi:av":"page-break-inside:avoid;","pgba":"page-break-after:|;","pgba:au":"page-break-after:auto;","pgba:al":"page-break-after:always;","pgba:l":"page-break-after:left;","pgba:r":"page-break-after:right;","orp":"orphans:|;","wid":"widows:|;"}},"html":{"filters":"html","snippets":{"cc:ie6":"<!--[if lte IE 6]>\n\t${child}|\n<![endif]-->","cc:ie":"<!--[if IE]>\n\t${child}|\n<![endif]-->","cc:noie":"<!--[if !IE]><!-->\n\t${child}|\n<!--<![endif]-->","html:4t":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">\n'+'<html lang="${lang}">\n'+"<head>\n"+'	<meta http-equiv="Content-Type" content="text/html;charset=${charset}">\n'+"	<title></title>\n"+"</head>\n"+"<body>\n\t${child}|\n</body>\n"+"</html>","html:4s":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">\n'+'<html lang="${lang}">\n'+"<head>\n"+'	<meta http-equiv="Content-Type" content="text/html;charset=${charset}">\n'+"	<title></title>\n"+"</head>\n"+"<body>\n\t${child}|\n</body>\n"+"</html>","html:xt":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n'+'<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="${lang}">\n'+"<head>\n"+'	<meta http-equiv="Content-Type" content="text/html;charset=${charset}" />\n'+"	<title></title>\n"+"</head>\n"+"<body>\n\t${child}|\n</body>\n"+"</html>","html:xs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">\n'+'<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="${lang}">\n'+"<head>\n"+'	<meta http-equiv="Content-Type" content="text/html;charset=${charset}" />\n'+"	<title></title>\n"+"</head>\n"+"<body>\n\t${child}|\n</body>\n"+"</html>","html:xxs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">\n'+'<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="${lang}">\n'+"<head>\n"+'	<meta http-equiv="Content-Type" content="text/html;charset=${charset}" />\n'+"	<title></title>\n"+"</head>\n"+"<body>\n\t${child}|\n</body>\n"+"</html>","html:5":"<!DOCTYPE HTML>\n"+'<html lang="${locale}">\n'+"<head>\n"+'	<meta charset="${charset}">\n'+"	<title></title>\n"+"</head>\n"+"<body>\n\t${child}|\n</body>\n"+"</html>"},"abbreviations":{"a":'<a href=""></a>',"a:link":'<a href="http://|"></a>',"a:mail":'<a href="mailto:|"></a>',"abbr":'<abbr title=""></abbr>',"acronym":'<acronym title=""></acronym>',"base":'<base href="" />',"bdo":'<bdo dir=""></bdo>',"bdo:r":'<bdo dir="rtl"></bdo>',"bdo:l":'<bdo dir="ltr"></bdo>',"link:css":'<link rel="stylesheet" type="text/css" href="${1:style}.css" media="all" />',"link:print":'<link rel="stylesheet" type="text/css" href="|print.css" media="print" />',"link:favicon":'<link rel="shortcut icon" type="image/x-icon" href="|favicon.ico" />',"link:touch":'<link rel="apple-touch-icon" href="|favicon.png" />',"link:rss":'<link rel="alternate" type="application/rss+xml" title="RSS" href="|rss.xml" />',"link:atom":'<link rel="alternate" type="application/atom+xml" title="Atom" href="atom.xml" />',"meta:utf":'<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />',"meta:win":'<meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />',"meta:compat":'<meta http-equiv="X-UA-Compatible" content="IE=7" />',"style":'<style type="text/css"></style>',"script":'<script type="text/javascript"><\/script>',"script:src":'<script type="text/javascript" src=""><\/script>',"img":'<img src="" alt="" />',"iframe":'<iframe src="" frameborder="0"></iframe>',"embed":'<embed src="" type="" />',"object":'<object data="" type=""></object>',"param":'<param name="" value="" />',"map":'<map name=""></map>',"area":'<area shape="" coords="" href="" alt="" />',"area:d":'<area shape="default" href="" alt="" />',"area:c":'<area shape="circle" coords="" href="" alt="" />',"area:r":'<area shape="rect" coords="" href="" alt="" />',"area:p":'<area shape="poly" coords="" href="" alt="" />',"link":'<link rel="stylesheet" href="" />',"form":'<form action=""></form>',"form:get":'<form action="" method="get"></form>',"form:post":'<form action="" method="post"></form>',"label":'<label for=""></label>',"input":'<input type="" />',"input:hidden":'<input type="hidden" name="" />',"input:h":'<input type="hidden" name="" />',"input:text":'<input type="text" name="" id="" />',"input:t":'<input type="text" name="" id="" />',"input:search":'<input type="search" name="" id="" />',"input:email":'<input type="email" name="" id="" />',"input:url":'<input type="url" name="" id="" />',"input:password":'<input type="password" name="" id="" />',"input:p":'<input type="password" name="" id="" />',"input:datetime":'<input type="datetime" name="" id="" />',"input:date":'<input type="date" name="" id="" />',"input:datetime-local":'<input type="datetime-local" name="" id="" />',"input:month":'<input type="month" name="" id="" />',"input:week":'<input type="week" name="" id="" />',"input:time":'<input type="time" name="" id="" />',"input:number":'<input type="number" name="" id="" />',"input:color":'<input type="color" name="" id="" />',"input:checkbox":'<input type="checkbox" name="" id="" />',"input:c":'<input type="checkbox" name="" id="" />',"input:radio":'<input type="radio" name="" id="" />',"input:r":'<input type="radio" name="" id="" />',"input:range":'<input type="range" name="" id="" />',"input:file":'<input type="file" name="" id="" />',"input:f":'<input type="file" name="" id="" />',"input:submit":'<input type="submit" value="" />',"input:s":'<input type="submit" value="" />',"input:image":'<input type="image" src="" alt="" />',"input:i":'<input type="image" src="" alt="" />',"input:reset":'<input type="reset" value="" />',"input:button":'<input type="button" value="" />',"input:b":'<input type="button" value="" />',"select":'<select name="" id=""></select>',"option":'<option value=""></option>',"textarea":'<textarea name="" id="" cols="30" rows="10"></textarea>',"menu:context":'<menu type="context"></menu>',"menu:c":'<menu type="context"></menu>',"menu:toolbar":'<menu type="toolbar"></menu>',"menu:t":'<menu type="toolbar"></menu>',"video":'<video src=""></video>',"audio":'<audio src=""></audio>',"html:xml":'<html xmlns="http://www.w3.org/1999/xhtml"></html>',"bq":"<blockquote></blockquote>","acr":"<acronym></acronym>","fig":"<figure></figure>","ifr":"<iframe></iframe>","emb":"<embed></embed>","obj":"<object></object>","src":"<source></source>","cap":"<caption></caption>","colg":"<colgroup></colgroup>","fst":"<fieldset></fieldset>","btn":"<button></button>","optg":"<optgroup></optgroup>","opt":"<option></option>","tarea":"<textarea></textarea>","leg":"<legend></legend>","sect":"<section></section>","art":"<article></article>","hdr":"<header></header>","ftr":"<footer></footer>","adr":"<address></address>","dlg":"<dialog></dialog>","str":"<strong></strong>","prog":"<progress></progress>","fset":"<fieldset></fieldset>","datag":"<datagrid></datagrid>","datal":"<datalist></datalist>","kg":"<keygen></keygen>","out":"<output></output>","det":"<details></details>","cmd":"<command></command>","ol+":"ol>li","ul+":"ul>li","dl+":"dl>dt+dd","map+":"map>area","table+":"table>tr>td","colgroup+":"colgroup>col","colg+":"colgroup>col","tr+":"tr>td","select+":"select>option","optgroup+":"optgroup>option","optg+":"optgroup>option"},"element_types":{"empty":"area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,keygen,command","block_level":"address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,link,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,h1,h2,h3,h4,h5,h6","inline_level":"a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"}},"xsl":{"extends":"html","filters":"html, xsl","abbreviations":{"tm":'<xsl:template match="" mode=""></xsl:template>',"tmatch":"tm","tn":'<xsl:template name=""></xsl:template>',"tname":"tn","xsl:when":'<xsl:when test=""></xsl:when>',"wh":"xsl:when","var":'<xsl:variable name="">|</xsl:variable>',"vare":'<xsl:variable name="" select=""/>',"if":'<xsl:if test=""></xsl:if>',"call":'<xsl:call-template name=""/>',"attr":'<xsl:attribute name=""></xsl:attribute>',"wp":'<xsl:with-param name="" select=""/>',"par":'<xsl:param name="" select=""/>',"val":'<xsl:value-of select=""/>',"co":'<xsl:copy-of select=""/>',"each":'<xsl:for-each select=""></xsl:for-each>',"for":"each","ap":'<xsl:apply-templates select="" mode=""/>',"choose+":"xsl:choose>xsl:when+xsl:otherwise"}},"haml":{"filters":"haml","extends":"html"}};
var M=(function(){var ae="zen-tag",aa="zen-expando",ai="zen-reference",ac="system",ag="user",Z=/^<(\w+\:?[\w\-]*)((?:\s+[\w\:\-]+\s*=\s*(['"]).*?\3)*)\s*(\/?)>/,ad=/([\w\-]+)\s*=\s*(['"])(.*?)\2/g;system_settings={},user_settings={},user_variables={};function af(al){return(al||"").replace(/^\s+|\s+$/g,"");}function ak(al){return al&&al.__zen_parsed__;}function U(al){al.__zen_parsed__=true;}function V(al){return al==ac?system_settings:user_settings;}function ah(ao){var an={},al=ao.split(",");for(var am=0;am<al.length;am++){an[al[am]]=true;}return an;}function W(am,ao,al){var av=V(am),aw=[],an;if(av&&ao in av){an=av[ao];if(al in an){aw.push(an[al]);}}var at;if(an&&"extends" in an){at=an;}else{if(am==ag&&ao in system_settings&&"extends" in system_settings[ao]){at=system_settings[ao];}}if(at){if(!ak(at["extends"])){var ap=at["extends"].split(",");for(var aq=0;aq<ap.length;aq++){ap[aq]=af(ap[aq]);}at["extends"]=ap;U(at["extends"]);}for(var aq=0;aq<at["extends"].length;aq++){var au=at["extends"][aq];if(av[au]&&av[au][al]){aw.push(av[au][al]);}}}return aw;}function X(ao,al,am){var an=W(ao,al,am);return an[0];}function aj(an,ao,am,au){var al=W(an,ao,am),av=null,aq;for(var ap=0,ar=al.length;ap<ar;ap++){aq=al[ap];if(au in aq){if(am=="abbreviations"&&!ak(aq[au])){var at=aq[au];aq[au]=e(au,at);aq[au].__ref=at;U(aq[au]);}av=aq[au];break;}}return av;}function T(am,al,an){return{type:am,key:al,value:an};}function Y(al,am){return T(aa,al,am);}function ab(ap,aq,ao,an){var am={name:aq,is_empty:!!an};if(ao){var al;am.attributes=[];while(al=ad.exec(ao)){am.attributes.push({name:al[1],value:al[3]});}}return T(ae,ap,am);}function e(am,an){am=af(am);var al;if(am.substr(-1)=="+"){return Y(am,an);}else{if(al=Z.exec(an)){return ab(am,al[1],al[2],al[4]=="/");}else{return T(ai,am,an);}}}return{setVocabulary:function(am,al){if(al==ac){system_settings=am;}else{user_settings=am;}},getVocabulary:V,getResource:function(al,am,an){return aj(ag,al,am,an)||aj(ac,al,am,an);},getAbbreviation:function(am,al){return this.getResource(am,"abbreviations",al)||this.getResource(am,"abbreviations",al.replace(/\-/g,":"));},getSnippet:function(am,al){return this.getResource(am,"snippets",al)||this.getResource(am,"snippets",al.replace(/\-/g,":"));},getVariable:function(al){return X(ag,"variables",al)||X(ac,"variables",al);},getSubset:function(al,am){return X(ag,al,am)||X(ac,al,am);},getElementsCollection:function(an,am){if(an&&an.element_types){var al=an.element_types;if(!ak(al)){for(var ao in al){al[ao]=ah(al[ao]);}U(al);}return al[am]||{};}else{return{};}}};})();try{M.setVocabulary(b,"system");M.setVocabulary(my_zen_settings,"user");}catch(P){}var G=(function(){var V=/^[\w\d\-_\$\:@!]+\+?$/i;function aa(ac){this.abbreviation="";this.parent=null;this.children=[];this.count=1;this.name=null;this.text=null;this.attributes=[];this.is_repeating=false;}aa.prototype={addChild:function(ac){ac=ac||new aa;ac.parent=this;this.children.push(ac);return ac;},replace:function(ag){if(this.parent){var ae=this.parent.children;for(var ad=0,ac=ae.length;ad<ac;ad++){if(ae[ad]===this){var af=ae[ad];ae[ad]=ag;af=af.parent=null;return;}}}},setAbbreviation:function(af){this.abbreviation=af;var ac=af.match(/\*(\d+)?$/);if(ac){this.count=parseInt(ac[1]||1,10);this.is_repeating=!ac[1];af=af.substr(0,af.length-ac[0].length);}if(af){var ag=Z(af);var ae=ag[0];if(ag.length==2){this.text=ag[1];}if(ae){var ad=ab(ae);this.name=ad[0]||"div";this.attributes=ad[1];}}if(this.name&&!V.test(this.name)){throw new Error("InvalidAbbreviation");}},getAbbreviation:function(){return this.expr;},toString:function(ah){ah=ah||0;var ae="(empty)";if(this.abbreviation){ae="";if(this.name){ae=this.name;}if(this.text!==null){ae+=(ae?" ":"")+'{text: "'+this.text+'"}';}if(this.attributes.length){var af=[];for(var ag=0,ad=this.attributes.length;ag<ad;ag++){af.push(this.attributes[ag].name+'="'+this.attributes[ag].value+'"');}ae+=" ["+af.join(", ")+"]";}}var ac=K.repeatString("-",ah)+ae+"\n";for(var ag=0,ad=this.children.length;ag<ad;ag++){ac+=this.children[ag].toString(ah+1);}return ac;},hasEmptyChildren:function(){for(var ad=0,ac=this.children.length;ad<ac;ad++){if(this.children[ad].isEmpty()){return true;}}return false;},isEmpty:function(){return !this.abbreviation;},isTextNode:function(){return !this.name&&this.text;}};function e(ac){if(typeof(ac)=="string"){ac=ac.charCodeAt(0);}return(ac&&ac>47&&ac<58);}function Y(ag){for(var af=ag.children.length-1;af>=0;af--){var ah=ag.children[af];if(ah.isEmpty()){var ad=[af,1];for(var ac=0,ae=ah.children.length;ac<ae;ac++){ad.push(ah.children[ac]);}Array.prototype.splice.apply(ag.children,ad);}}return ag;}function U(ac){return(ac||"").replace(/^\s+|\s+$/g,"");}function T(ad,ae){var ac=ae.substring(ad).match(/^[\w\-:\$]+/);return ac?ac[0]:"";}function X(ag){ag=U(ag);var ai=100,ae=/^(["'])((?:(?!\1)[^\\]|\\.)*)\1/,ak=[],ah;while(ag&&ai--){var aj=T(0,ag);ah=null;if(aj){ah={name:aj,value:""};var ac=ag.charAt(aj.length);switch(ac){case"=":var ad=ag.charAt(aj.length+1);if(ad=='"'||ad=="'"){var af=ag.substring(aj.length+1).match(ae);if(af){ah.value=af[2];ag=U(ag.substring(aj.length+af[0].length+1));}else{ag="";}}else{var af=ag.substring(aj.length+1).match(/(.+?)(\s|$)/);if(af){ah.value=af[1];ag=U(ag.substring(aj.length+af[1].length+1));}else{ag="";}}break;default:ag=U(ag.substring(aj.length));break;}}else{break;}if(ah){ak.push(ah);}}return ak;}function ab(al){var ap=[],ad="",ak=true,ah,am={"#":"id",".":"class"};var aj=0,an=al.length,ae;while(aj<an){var ac=al.charAt(aj);switch(ac){case"#":ae=T(aj,al.substring(1));ap.push({name:am[ac],value:ae});aj+=ae.length+1;ak=false;break;case".":ae=T(aj,al.substring(1));if(!ah){ah={name:am[ac],value:""};ap.push(ah);}ah.value+=((ah.value)?" ":"")+ae;aj+=ae.length+1;ak=false;break;case"[":var af=al.indexOf("]",aj);if(af==-1){aj=al.length;}else{var ao=X(al.substring(aj+1,af));for(var ag=0,ai=ao.length;ag<ai;ag++){ap.push(ao[ag]);}aj=af;}ak=false;break;default:if(ak){ad+=ac;}aj++;}}return[ad,ap];}function W(ae){while(ae.hasEmptyChildren()){Y(ae);}for(var ad=0,ac=ae.children.length;ad<ac;ad++){W(ae.children[ad]);}return ae;}function Z(ai){if(ai.indexOf("{")==-1){return[ai];}var ah=0,aj=0,ae=[],af=0,ad=ai.length,ag;while(af<ad){ag=ai.charAt(af);switch(ag){case"[":if(!aj){ah++;}break;case"]":if(!aj){ah--;}break;case"{":if(!ah){aj++;ae.push(af);}break;case"}":if(!ah){aj--;var ac=ae.pop();if(aj===0){return[ai.substring(0,ac),ai.substring(ac+1,af)];}}break;}af++;}return[ai];}return{parse:function(aq){var am=new aa,ae=am.addChild(),ai=0,ao=aq.length,al=0,af=0,aj=0,ak=[am],ad,an,ag="";ak.last=function(){return this[this.length-1];};var ap=function(){if(ag){ae.setAbbreviation(ag);}ag="";};while(ai<ao){ad=aq.charAt(ai);an=ai?aq.charAt(ai-1):"";switch(ad){case"{":if(!af){al++;}ag+=ad;break;case"}":if(!af){al--;}ag+=ad;break;case"[":if(!al){af++;}ag+=ad;break;case"]":if(!al){af--;}ag+=ad;break;case"(":if(!al&&!af){ap();if(an!="+"&&an!=">"){ae=ae.parent.addChild();}ak.push(ae);ae=ae.addChild();}else{ag+=ad;}break;case")":if(!al&&!af){ap();ae=ak.pop();if(ai<ao-1&&aq.charAt(ai+1)=="*"){var ac="",ar;for(var ah=ai+2;ah<ao;ah++){ar=aq.charAt(ah);if(e(ar)){ac+=ar;}else{break;}}ai+=ac.length+1;ac=parseInt(ac||1,10);while(1<ac--){ae.parent.addChild(ae);}}}else{ag+=ad;}break;case"+":if(!al&&!af&&ai!=ao-1){ap();ae=ae.parent.addChild();}else{ag+=ad;}break;case">":if(!al&&!af){ap();ae=ae.addChild();}else{ag+=ad;}break;default:ag+=ad;}ai++;}ap();return W(am);},TreeNode:aa,optimizeTree:W};})();var K=(function(){var T=/<\/?[\w:\-]+(?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*\s*(\/?)>$/,av="{%::zen-caret::%}",V="\n",af={},aE="html",aA={},X={tag_case:"lower",attr_case:"lower",attr_quotes:"double",tag_nl:"decide",place_cursor:true,indent:true,inline_break:3,self_closing_tag:"xhtml",filters:""};function ai(aF){if(typeof(aF)=="string"){aF=aF.charCodeAt(0);}return(aF&&aF>47&&aF<58);}function ay(aH){aH=String(aH);var aG=aH.charCodeAt(0),aF="#.>+*:$-_!@[]()|";return(aG>64&&aG<91)||(aG>96&&aG<123)||ai(aH)||aF.indexOf(aH)!=-1;}function al(){return K.getNewline();}function aB(){return(typeof(av)!="string")?av():av;}function Y(aJ,aI){var aG=al();var aF=(aJ||"").replace(/\r\n/g,"\n").replace(/\n\r/g,"\n").replace(/\r/g,"\n").replace(/\n/g,aG).split(aG);if(aI){for(var aH=aF.length;aH>=0;aH--){if(!e(aF[aH])){aF.splice(aH,1);}}}return aF;}function e(aF){return(aF||"").replace(/^\s+|\s+$/g,"");}function aj(aG){var aF={};for(var aH in X){aF[aH]=(aH in aG)?aG[aH]:X[aH];}return aF;}function az(aG,aF){aA[aG.toLowerCase()]=aj(aF||{});}function ah(aI,aG){var aF="";for(var aH=0;aH<aG;aH++){aF+=aI;}return aF;}function aa(aL,aK){var aJ=(typeof(aK)=="number")?ah(ac(),aK):aK,aF="";var aH=Y(aL),aG=al();aF+=aH[0];for(var aI=1;aI<aH.length;aI++){aF+=aG+aJ+aH[aI];}return aF;}function ad(aF,aH){var aG=function(){};aG.prototype=aH.prototype;aF.prototype=new aG();aF.prototype.constructor=aF;aF.baseConstructor=aH;aF.superClass=aH.prototype;}function aw(aF,aG){return ap(aG,aC(aF))?true:false;}function U(aF){return T.test(aF);}function aD(aG,aF){var aH;if(typeof aF=="function"){aH=aF;}else{if(aF){aH=function(aJ,aI){return(aI in aF)?aF[aI]:aJ;};}else{aH=function(aK,aJ){var aI=aq(aJ);return(aI!==null&&typeof aI!="undefined")?aI:aK;};}}return aG.replace(/\$\{([\w\-]+)\}/g,aH);}function aC(aF){return(aF||"").replace(/(.+)\!$/,"$1");}function ao(aH,aG){aG=aG||"html";var aF=null;if(aH.name){aF=ar(aG,aC(aH.name));if(aF&&aF.type=="zen-reference"){aF=ar(aG,aC(aF.value));}}this.name=(aF)?aF.value.name:aH.name;this.real_name=aH.name;this.count=aH.count||1;this._abbr=aF;this._res=b[aG];this._content="";this._paste_content="";this.repeat_by_lines=aH.is_repeating;this.parent=null;this.setContent(aH.text);if(this._abbr){this.copyAttributes(this._abbr.value);}this.copyAttributes(aH);}ao.prototype={addChild:function(aF){if(!this.children){this.children=[];}aF.parent=this;this.children.push(aF);},addAttribute:function(aG,aH){if(!this.attributes){this.attributes=[];}if(!this._attr_hash){this._attr_hash={};}aH=ae(aH,"|",aB());var aF;if(aG in this._attr_hash){aF=this._attr_hash[aG];if(aG=="class"){aF.value+=((aF.value)?" ":"")+aH;}else{aF.value=aH;}}else{aF={name:aG,value:aH};this._attr_hash[aG]=aF;this.attributes.push(aF);}},copyAttributes:function(aI){if(aI&&aI.attributes){for(var aH=0,aG=aI.attributes.length;aH<aG;aH++){var aF=aI.attributes[aH];this.addAttribute(aF.name,aF.value);}}},hasTagsInContent:function(){return this.getContent()&&T.test(this.getContent());},setContent:function(aF){this._content=ae(aF||"","|",aB());},getContent:function(){return this._content||"";},setPasteContent:function(aF){this._paste_content=K.escapeText(aF);},getPasteContent:function(){return this._paste_content;},findDeepestChild:function(){if(!this.children||!this.children.length){return null;}var aF=this;while(true){aF=aF.children[aF.children.length-1];if(!aF.children||!aF.children.length){break;}}return aF;}};function W(aG,aF){this.name=aC(aG.name);this.real_name=aG.name;this.count=aG.count;this.children=[];this._content=aG.text||"";this.repeat_by_lines=aG.is_repeating;this.attributes={"id":aB(),"class":aB()};this.value=ae(ap(aF,this.name),"|",aB());this.parent=null;this.copyAttributes(aG);}ad(W,ao);function ar(aG,aF){return M.getAbbreviation(aG,aF);}function ap(aG,aF){return M.getSnippet(aG,aF);}function aq(aF){return M.getVariable(aF);}function ac(){return aq("indentation");}function ax(aF){this.type=(aF instanceof W)?"snippet":"tag";this.name=aF.name;this.real_name=aF.real_name;this.children=[];this.counter=1;this.attributes=[];if(aF.attributes){for(var aI=0,aH=aF.attributes.length;aI<aH;aI++){var aG=aF.attributes[aI];this.attributes.push({name:aG.name,value:aG.value});}}this.source=aF;this.parent=null;this.nextSibling=null;this.previousSibling=null;this.start="";this.end="";this.content=aF.getContent()||"";this.padding="";}ax.prototype={addChild:function(aF){aF.parent=this;var aG=this.children[this.children.length-1];if(aG){aF.previousSibling=aG;aG.nextSibling=aF;}this.children.push(aF);},getAttribute:function(aG){aG=aG.toLowerCase();for(var aH=0,aF=this.attributes.length;aH<aF;aH++){if(this.attributes[aH].name.toLowerCase()==aG){return this.attributes[aH].value;}}return null;},isUnary:function(){if(this.type=="snippet"){return false;}return(this.source._abbr&&this.source._abbr.value.is_empty)||(this.name in M.getElementsCollection(this.source._res,"empty"));},isInline:function(){return this.type=="text"||(this.name in M.getElementsCollection(this.source._res,"inline_level"));},isBlock:function(){return this.type=="snippet"||!this.isInline();},hasTagsInContent:function(){return this.content&&T.test(this.content);},hasChildren:function(){return !!this.children.length;},hasBlockChildren:function(){if(this.hasTagsInContent()&&this.isBlock()){return true;}for(var aF=0;aF<this.children.length;aF++){if(this.children[aF].isBlock()){return true;}}return false;},findDeepestChild:function(){if(!this.children.length){return null;}var aF=this;while(true){aF=aF.children[aF.children.length-1];if(!aF.children.length){break;}}return aF;},toString:function(){var aH="";for(var aG=0,aF=this.children.length;aG<aF;aG++){aH+=this.children[aG].toString();}return this.start+this.content+aH+this.end;},pasteContent:function(aK,aF){aF=aF||0;var aJ=function(aM,aL){if(aL=="output"){aF=1;return aK;}return aM;};for(var aI=0,aH=this.attributes.length;aI<aH;aI++){var aG=this.attributes[aI];aG.value=aD(aG.value,aJ);}this.content=aD(this.content,aJ);if(this.hasChildren()){for(var aI=0,aH=this.children.length;aI<aH;aI++){aF=this.children[aI].pasteContent(aK,aF);if(aF===2){return aF;}}}else{if(aF==0){this.content+=aK;return 2;}}return aF;}};function am(aO,aK){aK=aK||new ax(aO);var aL=1,aI="";if(aO.children){for(var aH=0,aJ=aO.children.length;aH<aJ;aH++){var aF=aO.children[aH];aL=aF.count;if(aF.repeat_by_lines){aI=Y(aF.getPasteContent(),true);aL=Math.max(aI.length,1);}else{aI=aF.getPasteContent();}for(var aG=0;aG<aL;aG++){var aN=new ax(aF);aK.addChild(aN);aN.counter=aG+1;if(aF.children&&aF.children.length){am(aF,aN);}if(aI){var aM=(typeof(aI)=="string")?aI:(aI[aG]||"");aN.pasteContent(e(aM));}}}}return aK;}function ak(aF,aK,aH){aK=au(aK);if(typeof(aH)=="string"){aH=aH.split(/[\|,]/g);}for(var aJ=0,aG=aH.length;aJ<aG;aJ++){var aI=e(aH[aJ].toLowerCase());if(aI&&aI in af){aF=af[aI](aF,aK);}}return aF;}function an(aG,aF){aF=aF||"html";if(aG.isEmpty()){return null;}return aw(aG.name,aF)?new W(aG,aF):new ao(aG,aF);}function ab(aL,aK,aJ){var aF=an(aL,aK);aJ.addChild(aF);var aG=aJ;while(aG.parent){aG=aG.parent;}aG.last=aF;if(aF.repeat_by_lines){aG.multiply_elem=aF;}for(var aH=0,aI=aL.children.length;aH<aI;aH++){ab(aL.children[aH],aK,aF);}}function Z(aJ,aI){for(var aH=0,aG=aJ.children.length;aH<aG;aH++){var aK=aJ.children[aH];if(!aK.isEmpty()&&!aK.isTextNode()&&aK.name.indexOf("+")!=-1){var aF=ar(aI,aK.name);if(aF){aJ.children[aH]=G.parse(aF.value);}}Z(aJ.children[aH],aI);}}function at(aF,aG){Z(aF,aG);return G.optimizeTree(aF);}function ag(aI,aH){var aG="",aF=aI.length;while(aH>aF++){aG+="0";
}return aG+aI;}function ae(aK,aG,aF){var aI=0,aN=aK.length,aH=aG.length,aM=0;while(aI<aN){if(aK.charAt(aI)=="\\"){aI+=aH+1;}else{if(aK.substr(aI,aH)==aG){var aJ=aH;aM++;var aO=aF;if(typeof(aF)!=="string"){var aL=aF(aK,aG,aI,aM);if(aL){aJ=aL[0].length;aO=aL[1];}else{aO=false;}}if(aO===false){aI++;continue;}aK=aK.substring(0,aI)+aO+aK.substring(aI+aJ);aN=aK.length;aI+=aO.length;}else{aI++;}}}return aK;}function au(aG){var aF=aG;if(typeof(aG)=="string"&&aG in aA){aF=aA[aG];}if(!aF){aF=aA["plain"];}return aF;}az("xhtml");az("html",{self_closing_tag:false});az("xml",{self_closing_tag:true,tag_nl:true});az("plain",{tag_nl:false,indent:false,place_cursor:false});return{actions:{},registerAction:function(aF,aG){this.actions[aF]=aG;},runAction:function(aG,aF){if(!(aF instanceof Array)){aF=Array.prototype.slice.call(arguments,1);}try{if(aG in this.actions){return this.actions[aG].apply(this,aF);}}catch(aH){if(window&&window.console){console.error(aH);}return false;}},expandAbbreviation:function(aG,aI,aH){aI=aI||"html";var aJ=this.parseIntoTree(aG,aI);if(aJ){var aF=am(aJ);this.applyFilters(aF,aI,aH,aJ.filters);return aD(aF.toString());}return"";},extractAbbreviation:function(aK){var aH=aK.length,aF=-1,aJ=0,aG=0;while(true){aH--;if(aH<0){aF=0;break;}var aI=aK.charAt(aH);if(aI=="]"){aJ++;}else{if(aI=="["){aJ--;}}if(aI=="}"){aG++;}else{if(aI=="{"){aG--;}else{if(aJ||aG){continue;}else{if(!ay(aI)||(aI==">"&&U(aK.substring(0,aH+1)))){aF=aH+1;break;}}}}}if(aF!=-1){return aK.substring(aF);}else{return"";}},parseIntoTree:function(aH,aK){aK=aK||"html";var aG="";aH=aH.replace(/\|([\w\|\-]+)$/,function(aO,aN){aG=aN;return"";});try{var aJ=G.parse(aH),aM=new ao({},aK);aJ=at(aJ,aK);}catch(aL){if(aL.message=="InvalidAbbreviation"){return null;}}for(var aI=0,aF=aJ.children.length;aI<aF;aI++){ab(aJ.children[aI],aK,aM);}aM.filters=aG;return aM;},padString:aa,setupProfile:az,getNewline:function(){return V;},setNewline:function(aF){V=aF;},wrapWithAbbreviation:function(aG,aL,aJ,aI){aJ=aJ||"html";var aK=this.parseIntoTree(aG,aJ);if(aK){var aH=aK.multiply_elem||aK.last;aH.setPasteContent(aL);aH.repeat_by_lines=!!aK.multiply_elem;var aF=am(aK);this.applyFilters(aF,aJ,aI,aK.filters);return aD(aF.toString());}return null;},splitByLines:Y,isInsideTag:function(aI,aH){var aG=/^<\/?\w[\w\:\-]*.*?>/;var aJ=aH;while(aJ>-1){if(aI.charAt(aJ)=="<"){break;}aJ--;}if(aJ!=-1){var aF=aG.exec(aI.substring(aJ));if(aF&&aH>aJ&&aH<aJ+aF[0].length){return true;}}return false;},getCaretPlaceholder:aB,setCaretPlaceholder:function(aF){av=aF;},rolloutTree:am,registerFilter:function(aF,aG){af[aF]=aG;},nodeFactory:function(aG,aF){return new ax({name:aG,attributes:aF||[]});},applyFilters:function(aF,aG,aI,aJ){aI=au(aI);var aH=aI.filters;if(!aH){aH=M.getSubset(aG,"filters")||aE;}if(aJ){aH+="|"+((typeof(aJ)=="string")?aJ:aJ.join("|"));}if(!aH){aH=aE;}return ak(aF,aI,aH);},runFilters:ak,repeatString:ah,getVariable:aq,setVariable:function(aG,aH){var aF=M.getVocabulary("user")||{};if(!("varaibles" in aF)){aF.variables={};}aF.variables[aG]=aH;M.setVocabulary(aF,"user");},replaceVariables:aD,escapeText:function(aF){return aF.replace(/([\$\|\\])/g,"\\$1");},unescapeText:function(aF){return aF.replace(/\\(.)/g,"$1");},replaceCounter:function(aH,aG){var aF="$";aG=String(aG);return ae(aH,aF,function(aL,aK,aM,aI){if(aL.charAt(aM+1)=="{"||ai(aL.charAt(aM+1))){return false;}var aJ=aM+1;while(aL.charAt(aJ)=="$"&&aL.charAt(aJ+1)!="{"){aJ++;}return[aL.substring(aM,aJ),ag(aG,aJ-aM)];});},isNumeric:ai,upgradeTabstops:function(aJ,aK){var aG=0,aI=["start","end","content"];for(var aH=0,aF=aI.length;aH<aF;aH++){aJ[aI[aH]]=aJ[aI[aH]].replace(/\$(\d+)|\$\{(\d+)(\:[^\}]+)?\}/g,function(aO,aN,aM){var aL=parseInt(aN||aM,10);if(aL>aG){aG=aL;}return aO.replace(/\d+/,aL+aK);});}return aG;},getProfile:function(aF){return(aF in aA)?aA[aF]:aA["plain"];},getImageSize:function(aM){var aI="\211PNG\r\n\032\n",aL="\377\330",aG="GIF8",aF=function(){return aM.charCodeAt(aK++);};if(aM.substr(0,8)===aI){var aK=aM.indexOf("IHDR")+4;return{width:(aF()<<24)|(aF()<<16)|(aF()<<8)|aF(),height:(aF()<<24)|(aF()<<16)|(aF()<<8)|aF()};}else{if(aM.substr(0,4)===aG){aK=6;return{width:aF()|(aF()<<8),height:aF()|(aF()<<8)};}else{if(aM.substr(0,2)===aL){aK=2;var aH=aM.length;while(aK<aH){if(aF()!=255){return;}var aJ=aF();if(aJ==218){break;}var aN=(aF()<<8)|aF();if(aJ>=192&&aJ<=207&&!(aJ&4)&&!(aJ&8)){aK+=1;return{height:(aF()<<8)|aF(),width:(aF()<<8)|aF()};}else{aK+=aN-2;}}}}}}};})();function m(U){var e=U.getSelectionRange(),V=String(U.getContent());if(e.start!=e.end){return V.substring(e.start,e.end);}var T=U.getCurrentLineRange();return K.extractAbbreviation(V.substring(T.start,e.start));}function E(V,T,X){T=String(T||V.getSyntax());X=String(X||V.getProfileName());var e=V.getSelectionRange().end,U,W="";if((U=m(V))){W=K.expandAbbreviation(U,T,X);if(W){V.replaceContent(W,e-U.length,e);return true;}}return false;}function A(T,e,U){e=String(e||T.getSyntax());U=String(U||T.getProfileName());if(!E(T,e,U)){T.replaceContent(K.getVariable("indentation"),T.getCaretPos());}}function g(X,aa,U){aa=String((aa||"out").toLowerCase());U=String(U||X.getProfileName());var V=X.getSelectionRange(),ad=V.end,T=V.start,ac=V.end,Z=String(X.getContent()),V=null,ae,W=K.html_matcher.last_match["opening_tag"],ab=K.html_matcher.last_match["closing_tag"];if(aa=="in"&&W&&T!=ac){if(!ab){return false;}else{if(W.start==T){if(Z.charAt(W.end)=="<"){ae=K.html_matcher.find(Z,W.end+1,U);if(ae[0]==W.end&&ae[1]==ab.start){V=K.html_matcher(Z,W.end+1,U);}else{V=[W.end,ab.start];}}else{V=[W.end,ab.start];}}else{var e=Z.substring(0,ab.start).indexOf("<",W.end);var Y=e!=-1?e+1:W.end;V=K.html_matcher(Z,Y,U);}}}else{V=K.html_matcher(Z,ad,U);}if(V!==null&&V[0]!=-1){X.createSelection(V[0],V[1]);return true;}else{return false;}}function u(V,W,e){var T=/\s|\n|\r/;function U(X){return T.test(X);}while(W<e){if(!U(V.charAt(W))){break;}W++;}while(e>W){e--;if(!U(V.charAt(e))){e++;break;}}return[W,e];}function r(X,ab,T,W){T=String(T||X.getSyntax());W=String(W||X.getProfileName());ab=String(ab||X.prompt("Enter abbreviation"));var V=X.getSelectionRange(),Z=V.start,e=V.end,Y=String(X.getContent());if(!ab){return null;}if(Z==e){V=K.html_matcher(Y,Z,W);if(!V||V[0]==-1){return null;}var U=u(Y,V[0],V[1]);Z=U[0];e=U[1];}var aa=Y.substring(Z,e),ac=K.wrapWithAbbreviation(ab,D(X,aa),T,W);if(ac){X.setCaretPos(e);X.replaceContent(ac,Z,e);}}function D(e,T){return o(T,c(e));}function o(V,U){var e=K.splitByLines(V);for(var T=0;T<e.length;T++){if(e[T].search(U)==0){e[T]=e[T].substr(U.length);}}return e.join(K.getNewline());}function c(e){return S(e.getCurrentLine());}function S(e){return(e.match(/^(\s+)/)||[""])[0];}function h(Z,V,X){V=V||1;X=X||0;var ab=Z.getCaretPos()+X,aa=String(Z.getContent()),U=aa.length,T=-1,W=/^\s+$/;function e(af){return aa.charAt(af);}function ae(af){var ah=af;while(ah>=0){var ag=e(ah);if(ag=="\n"||ag=="\r"){break;}ah--;}return aa.substring(ah,af);}while(ab<U&&ab>0){ab+=V;var Y=e(ab),ad=e(ab+1),ac=e(ab-1);switch(Y){case'"':case"'":if(ad==Y&&ac=="="){T=ab+1;}break;case">":if(ad=="<"){T=ab+1;}break;case"\n":case"\r":if(W.test(ae(ab-1))){T=ab;}break;}if(T!=-1){break;}}return T;}function p(T){var e=T.getCaretPos(),U=h(T,-1);if(U==e){U=h(T,-1,-2);}if(U!=-1){T.setCaretPos(U);}}function I(e){var T=h(e,1);if(T!=-1){e.setCaretPos(T);}}function F(U,X){X=String(X||"html");var e=U.getCaretPos(),T=K.getNewline(),V=K.getVariable("indentation");switch(X){case"html":var W=K.html_matcher.getTags(String(U.getContent()),U.getCaretPos(),String(U.getProfileName()));if(W[0]&&W[1]&&W[0].type=="tag"&&W[0].end==e&&W[1].start==e){U.replaceContent(T+V+K.getCaretPlaceholder()+T,e);}else{U.replaceContent(T,e);}break;default:U.replaceContent(T,e);}}function a(T){var e=T.getCurrentLineRange();T.createSelection(e.start,e.end);}function j(V){var X=String(V.getContent()),T=V.getCaretPos();if(X.charAt(T)=="<"){T++;}var U=K.html_matcher.getTags(X,T,String(V.getProfileName()));if(U&&U[0]){var e=U[0],W=U[1];if(W){if(e.start<=T&&e.end>=T){V.setCaretPos(W.start);}else{if(W.start<=T&&W.end>=T){V.setCaretPos(e.start);}}}}}function s(W){var V=W.getSelectionRange();if(V.start==V.end){var Y=K.html_matcher(String(W.getContent()),W.getCaretPos(),String(W.getProfileName()));if(Y){V.start=Y[0];V.end=Y[1];}}if(V.start!=V.end){var X=String(W.getContent()).substring(V.start,V.end),e=X.length;var T=K.splitByLines(X);for(var U=1;U<T.length;U++){T[U]=T[U].replace(/^\s+/,"");}X=T.join("").replace(/\s{2,}/," ");W.replaceContent(X,V.start,V.end);W.createSelection(V.start,V.start+X.length);}}function R(e){switch(e.getSyntax()){case"css":return q(e);default:return x(e);}}function x(T){var e=T.getSelectionRange(),U=String(T.getContent());if(e.start==e.end){var V=K.html_matcher.getTags(U,T.getCaretPos(),String(T.getProfileName()));if(V&&V[0]){e.start=V[0].start;e.end=V[1]?V[1].end:V[0].end;}}return y(T,"<!--","-->",e.start,e.end);}function q(T){var e=T.getSelectionRange();if(e.start==e.end){e=T.getCurrentLineRange();var U=u(String(T.getContent()),e.start,e.end);e.start=U[0];e.end=U[1];}return y(T,"/*","*/",e.start,e.end);}function Q(ab,aa,V,X){var W=V.charAt(0),e=X.charAt(0),U=-1,T=-1;function Z(ac,ad){return ab.substr(ad,ac.length)==ac;}while(aa--){if(ab.charAt(aa)==W&&Z(V,aa)){U=aa;break;}}if(U!=-1){aa=U;var Y=ab.length;while(Y>=aa++){if(ab.charAt(aa)==e&&Z(X,aa)){T=aa+X.length;break;}}}return(U!=-1&&T!=-1)?[U,T]:null;}function O(T){var e=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");return T.replace(e,"\\$&");}function y(V,U,T,e,ab){var X=V.getContent(),ac=V.getCaretPos(),Z=null;function aa(ad){return ad.replace(new RegExp("^"+O(U)+"\\s*"),function(ae){ac-=ae.length;return"";}).replace(new RegExp("\\s*"+O(T)+"$"),"");}function W(ad,ae){return X.substr(ae,ad.length)==ad;}var Y=Q(X,ac,U,T);if(Y&&Y[0]<=e&&Y[1]>=ab){e=Y[0];ab=Y[1];Z=aa(X.substring(e,ab));}else{Z=U+" "+X.substring(e,ab).replace(new RegExp(O(U)+"\\s*|\\s*"+O(T),"g"),"")+" "+T;ac+=U.length+1;}if(Z!==null){V.setCaretPos(e);V.replaceContent(D(V,Z),e,ab);V.setCaretPos(ac);return true;}return false;}function w(Y,X){var ad=Y.getCaretPos(),U=K.getProfile(String(X||Y.getProfileName())),aa=K.getCaretPlaceholder();var V=K.html_matcher.getTags(String(Y.getContent()),ad,String(Y.getProfileName()));if(V&&V[0]){var ac=V[0].full_tag;if(V[1]){var ab=" /";if(U.self_closing_tag===true){ab="/";}ac=ac.replace(/\s*>$/,ab+">");if(ac.length+V[0].start<ad){ac+=aa;}else{var Z=ad-V[0].start;ac=ac.substring(0,Z)+aa+ac.substring(Z);}Y.replaceContent(ac,V[0].start,V[1].end);}else{var e=K.getNewline(),T=K.getVariable("indentation");var W=(U.tag_nl===true)?e+T+aa+e:aa;ac=ac.replace(/\s*\/>$/,">")+W+"</"+V[0].name+">";Y.replaceContent(ac,V[0].start,V[0].end);}return true;}else{return false;}}function J(X,Z){var e=X.length,Y=0,T=e-1;for(var V=Z-1;V>0;V--){var W=X.charAt(V);if(W=="\n"||W=="\r"){Y=V+1;break;}}for(var U=Z;U<e;U++){var W=X.charAt(U);if(W=="\n"||W=="\r"){T=U;break;}}return{start:Y,end:T};}function C(W){var e=W.getCaretPos(),X=String(W.getContent());var Y=K.html_matcher.getTags(X,e,String(W.getProfileName()));if(Y&&Y[0]){if(!Y[1]){W.replaceContent(K.getCaretPlaceholder(),Y[0].start,Y[0].end);}else{var U=u(X,Y[0].end,Y[1].start),V=J(X,U[0]),Z=S(X.substring(V.start,V.end)),T=X.substring(U[0],U[1]);T=o(T,Z);W.replaceContent(K.getCaretPlaceholder()+T,Y[0].start,Y[1].end);}return true;}else{return false;}}function i(e,T,U){U=U||0;return T.charAt(U)==e.charAt(0)&&T.substr(U,e.length)==e;}function n(V){var W=String(V.getSelection()),T=V.getCaretPos();if(!W){var X=String(V.getContent()),U,e;while(T-->=0){if(i("src=",X,T)){if(e=X.substr(T).match(/^(src=(["'])?)([^'"<>\s]+)\1?/)){W=e[3];T+=e[1].length;}break;}else{if(i("url(",X,T)){if(e=X.substr(T).match(/^(url\((['"])?)([^'"\)\s]+)\1?/)){W=e[3];T+=e[1].length;}break;}}}}if(W){if(i("data:",W)){return H(V,W,T);}else{return f(V,W,T);}}else{return false;}}function f(V,W,Y){var e=V.getFilePath(),T="application/octet-stream";if(e===null){throw"You should save your file before using this action";}var X=zen_file.locateFile(e,W);if(X===null){throw"Can't find "+W+" file";}var U=base64.encode(String(zen_file.read(X)));if(!U){throw"Can't encode file content to base64";}U="data:"+(base64.mime_types[String(zen_file.getExt(X))]||T)+";base64,"+U;V.replaceContent("$0"+U,Y,Y+W.length);return true;}function H(U,V,W){var T=String(U.prompt("Enter path to file (absolute or relative)"));if(!T){return false;}var e=zen_file.createPath(U.getFilePath(),T);if(!e){throw"Can't save file";}zen_file.save(e,base64.decode(V.replace(/^data\:.+?;.+?,/,"")));U.replaceContent("$0"+T,W,W+V.length);return true;}function v(V){var e=V.getCaretPos(),W=String(V.getContent()),X=W.length,U=-1,T=-1;do{if(e<0){break;}if(W.charAt(e)=="<"){if(W.substring(e,e+4).toLowerCase()=="<img"){U=e;break;}else{return null;}}}while(e--);e=V.getCaretPos();do{if(e>=X){break;}if(W.charAt(e)==">"){T=e+1;break;}}while(e++);if(U!=-1&&T!=-1){return{start:U,end:T,tag:W.substring(U,T)};}return null;}function B(T,V,U){if(T.toLowerCase().indexOf(V)!=-1){var e=new RegExp(V+"=(['\"])(.*?)(['\"])","i");return T.replace(e,function(Y,X,W){return V+"="+X+U+X;});}else{return T.replace(/\s*(\/?>)$/," "+V+'="'+U+'" $1');}}function z(X){var V=X.getCaretPos();var U=v(X);if(U){var Z=/\bsrc=(["'])(.+?)\1/i,T,e;if(T=Z.exec(U.tag)){e=T[2];}if(e){var Y=zen_file.locateFile(X.getFilePath(),e);if(Y===null){throw"Can't find "+e+" file";}var aa=K.getImageSize(String(zen_file.read(Y)));if(aa){var W=B(U.tag,"width",aa.width);W=B(W,"height",aa.height);X.replaceContent(W,U.start,U.end);X.setCaretPos(V);}}}}function l(e,T){return e.toFixed(typeof fraction=="undefined"?2:T).replace(/\.?0+$/,"");}function N(V,U){var W=String(V.getContent()),T=W.length,e=V.getCaretPos()-1,X=e+1;while(e>=0&&U(W.charAt(e),e,W)){e--;}while(X<T&&U(W.charAt(X),X,W)){X++;}return X>e?[++e,X]:null;}function t(V,Y){var X=String(V.getContent()),e=false,U=false;var W=N(V,function(Z){if(K.isNumeric(Z)){return true;}if(Z=="."){return U?false:U=true;}if(Z=="-"){return e?false:e=true;}return false;});if(W){var T=parseFloat(X.substring(W[0],W[1]));if(!isNaN(T)){T=l(T+Y);V.replaceContent(T,W[0],W[1]);V.createSelection(W[0],W[0]+T.length);return true;}}return false;}function L(U){var X=String(U.getContent()),W=".+-*/\\";var V=N(U,function(e){return K.isNumeric(e)||W.indexOf(e)!=-1;});if(V){var Z=X.substring(V[0],V[1]);Z=Z.replace(/([\d\.\-]+)\\([\d\.\-]+)/g,"Math.round($1/$2)");try{var T=new Function("return "+Z)();T=l(T);U.replaceContent(T,V[0],V[1]);U.setCaretPos(V[0]+T.length);}catch(Y){}}return false;}K.registerAction("expand_abbreviation",E);K.registerAction("expand_abbreviation_with_tab",A);K.registerAction("match_pair",g);K.registerAction("match_pair_inward",function(e){g(e,"in");});K.registerAction("match_pair_outward",function(e){g(e,"out");});K.registerAction("wrap_with_abbreviation",r);K.registerAction("prev_edit_point",p);K.registerAction("next_edit_point",I);K.registerAction("insert_formatted_line_break",F);K.registerAction("select_line",a);K.registerAction("matching_pair",j);K.registerAction("merge_lines",s);
K.registerAction("toggle_comment",R);K.registerAction("split_join_tag",w);K.registerAction("remove_tag",C);K.registerAction("encode_decode_data_url",n);K.registerAction("update_image_size",z);K.registerAction("increment_number_by_1",function(e){return t(e,1);});K.registerAction("decrement_number_by_1",function(e){return t(e,-1);});K.registerAction("increment_number_by_10",function(e){return t(e,10);});K.registerAction("decrement_number_by_10",function(e){return t(e,-10);});K.registerAction("increment_number_by_01",function(e){return t(e,0.1);});K.registerAction("decrement_number_by_01",function(e){return t(e,-0.1);});K.registerAction("evaluate_math_expression",L);(function(){var X=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,aj=/^<\/([\w\:\-]+)[^>]*>/,ag=/([\w\-:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g;var ab=ae("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var aa=ae("address,applet,blockquote,button,center,dd,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var Y=ae("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var ac=ae("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var T="xhtml";var ah={opening_tag:null,closing_tag:null,start_ix:-1,end_ix:-1};function ai(e){if(!e||e!="html"){e="xhtml";}T=e;}function al(an,e){var am=an[1].toLowerCase();return{name:am,full_tag:an[0],start:e,end:e+an[0].length,unary:Boolean(an[3])||(am in ab&&T=="html"),has_close:Boolean(an[3]),type:"tag",close_self:(am in ac&&T=="html")};}function U(am,e){return{start:am,end:e,type:"comment"};}function ae(ao){var an={},e=ao.split(",");for(var am=0;am<e.length;am++){an[e[am]]=true;}return an;}function af(ao,ap,e){e=e||0;var an=-1,am=-1;if(ao&&!ap){an=ao.start;am=ao.end;}else{if(ao&&ap){if((ao.start<e&&ao.end>e)||(ap.start<=e&&ap.end>e)){an=ao.start;am=ap.end;}else{an=ao.end;am=ap.start;}}}return[an,am];}function ad(an,ao,e){e=e||0;ah.opening_tag=an;ah.closing_tag=ao;var am=af(an,ao,e);ah.start_ix=am[0];ah.end_ix=am[1];return ah.start_ix!=-1?[ah.start_ix,ah.end_ix]:null;}function W(an,am,e){if(e.has_close){return null;}else{}}function Z(ap,am,au,aA){aA=aA||af;ai(au);var ay=[],az=[],at=null,aq=null,av=null,ao=ap.length,ax,an,e;ay.last=az.last=function(){return this[this.length-1];};function aC(aE,aF){if(arguments.length==1){aF=an;}return ap.substr(aF,aE.length)==aE;}function aw(aE){while(aE--){if(ap.charAt(aE)=="<"&&aC("<!--",aE)){break;}}return aE;}an=am;while(an--&&an>=0){var ar=ap.charAt(an);if(ar=="<"){var aD=ap.substring(an,ao);if((ax=aD.match(aj))){e=al(ax,an);if(e.start<am&&e.end>am){aq=e;}else{az.push(e);}}else{if((ax=aD.match(X))){e=al(ax,an);if(e.unary){if(e.start<am&&e.end>am){return aA(e,null,am);}}else{if(az.last()&&az.last().name==e.name){az.pop();}else{at=e;break;}}}else{if(aD.indexOf("<!--")==0){var aB=aD.search("-->")+an+3;if(an<am&&aB>=am){return aA(U(an,aB));}}}}}else{if(ar=="-"&&aC("-->")){an=aw(an);}}}if(!at){return aA(null);}if(!aq){for(an=am;an<ao;an++){var ar=ap.charAt(an);if(ar=="<"){var aD=ap.substring(an,ao);if((ax=aD.match(X))){e=al(ax,an);if(!e.unary){ay.push(e);}}else{if((ax=aD.match(aj))){var e=al(ax,an);if(ay.last()&&ay.last().name==e.name){ay.pop();}else{aq=e;break;}}else{if(aC("<!--")){an+=aD.search("-->")+3;}}}}else{if(ar=="-"&&aC("-->")){if(!ay.last()||ay.last().type!="comment"){var aB=an+3;return aA(U(aw(an),aB));}}}}}return aA(at,aq,am);}var V=function(am,e,an){return Z(am,e,an,ad);};V.start_tag=X;V.end_tag=aj;V.find=function(am,e,an){return Z(am,e,an);};V.getTags=function(am,e,an){return Z(am,e,an,function(ao,ap){return[ao,ap];});};V.last_match=ah;try{K.html_matcher=V;}catch(ak){}})();(function(){function e(X,W){var Z=X.getAttribute("id"),V=X.getAttribute("class"),U=K.getNewline();if(Z||V){var aa="",Y=(X.parent)?X.parent.padding:"";if(Z){aa+="#"+Z;}if(V){aa+="."+V;}X.start=X.start.replace(/</,"<!-- "+aa+" -->"+U+Y+"<");X.end=X.end.replace(/>/,">"+U+Y+"<!-- /"+aa+" -->");X.start=K.replaceCounter(X.start,W+1);X.end=K.replaceCounter(X.end,W+1);}}function T(U,X){if(X.tag_nl===false){return U;}for(var W=0,V=U.children.length;W<V;W++){var Y=U.children[W];if(Y.isBlock()){e(Y,W);}T(Y,X);}return U;}K.registerFilter("c",T);})();(function(){var e=/(.+)\!$/;function T(U,X){for(var W=0,V=U.children.length;W<V;W++){var Y=U.children[W];if(Y.type=="snippet"&&e.test(Y.real_name)){Y.start=Y.start.replace(/;$/," !important;");}T(Y,X);}return U;}K.registerFilter("css",T);})();(function(){var T={"<":"&lt;",">":"&gt;","&":"&amp;"};function e(V){return V.replace(/([<>&])/g,function(X,W){return T[W];});}function U(V,Y,aa){for(var X=0,W=V.children.length;X<W;X++){var Z=V.children[X];Z.start=e(Z.start);Z.end=e(Z.end);U(Z);}return V;}K.registerFilter("e",U);})();(function(){function e(T,W){for(var V=0,U=T.children.length;V<U;V++){var X=T.children[V];if(X.type=="snippet"){X.start=X.start.replace(/([\w\-]+\s*:)\s*/,"$1 ");}e(X,W);}return T;}K.registerFilter("fc",e);})();(function(){var X="${child}",Y="%s";function U(){return K.getNewline();}function Z(){return M.getVariable("indentation");}function e(ad){return(ad.parent&&ad.parent.hasBlockChildren());}function ac(ad){return ad.parent&&!ad.parent.parent&&!ad.previousSibling;}function W(ae,ad){if(!ad.inline_break){return false;}while(ae.previousSibling&&ae.previousSibling.isInline()){ae=ae.previousSibling;}if(!ae.isInline()){return false;}var af=1;while(ae=ae.nextSibling){if(ae.type=="text"||!ae.isInline()){af=0;}else{if(ae.isInline()){af++;}}}return af>=ad.inline_break;}function aa(ae,ad){return(ae.children.length&&W(ae.children[0],ad));}function ab(ak,af,ad){var ah=ak.source.value;if(!ah){return V(ak,af,ad);}ak.start=ak.end=Y;var ai=(ak.parent)?ak.parent.padding:K.repeatString(Z(),ad);if(!ac(ak)){ak.start=U()+ai+ak.start;}var ag=ah.split(X),al=K.splitByLines(ag[0]||""),aj=Z();if(al.length>1){var ae=al[al.length-1].match(/^(\s+)/);if(ae){aj=ae[1];}}ak.padding=ai+aj;return ak;}function V(af,ae,aj){if(!af.name){return af;}af.start=af.end=Y;var ah=(af.isUnary()&&!af.children.length);if(ae.tag_nl!==false){var ag=(af.parent)?af.parent.padding:K.repeatString(Z(),aj),ai=(ae.tag_nl===true),ad=W(af,ae);if(af.type!="text"){if(((af.isBlock()||ad)&&af.parent)||ai){if(!af.parent||(af.parent.type!="snippet"&&!ac(af))){af.start=U()+ag+af.start;}if(af.hasBlockChildren()||aa(af,ae)||(ai&&!ah)){af.end=U()+ag+af.end;}if(af.hasTagsInContent()||(ai&&!af.hasChildren()&&!ah)){af.start+=U()+ag+Z();}}else{if(af.isInline()&&e(af)&&!ac(af)){af.start=U()+ag+af.start;}}af.padding=ag+Z();}}return af;}function T(ad,ag,ai){ai=ai||0;for(var af=0,ae=ad.children.length;af<ae;af++){var ah=ad.children[af];ah=(ah.type=="tag")?V(ah,ag,ai):ab(ah,ag,ai);if(ah.content){ah.content=K.padString(ah.content,ah.padding);}T(ah,ag,ai+1);}return ad;}K.registerFilter("_format",T);})();(function(){var e="${child}";function V(ah,Y){var ae="",aa=Y.attr_quotes=="single"?"'":'"',af=Y.place_cursor?K.getCaretPlaceholder():"",ag,ab,ad;for(ab=0;ab<ah.attributes.length;ab++){ad=ah.attributes[ab];switch(ad.name.toLowerCase()){case"id":ae+="#"+(ad.value||af);break;case"class":ae+="."+(ad.value||af);break;}}var Z=[];for(ab=0;ab<ah.attributes.length;ab++){ad=ah.attributes[ab];var ac=ad.name.toLowerCase();if(ac!="id"&&ac!="class"){ag=(Y.attr_case=="upper")?ad.name.toUpperCase():ac;Z.push(":"+ag+" => "+aa+(ad.value||af)+aa);}}if(Z.length){ae+="{"+Z.join(", ")+"}";}return ae;}function T(aa,Z,af){var ab=aa.source.value;if(!ab){return X(aa,Z,af);}var ad=ab.split(e),ae=ad[0]||"",Y=ad[1]||"",ac=aa.parent?aa.parent.padding:"";aa.start=aa.start.replace("%s",K.padString(ae,ac));aa.end=aa.end.replace("%s",K.padString(Y,ac));return aa;}function U(Y){return(Y.parent&&Y.parent.hasBlockChildren());}function X(ak,ad,Y){if(!ak.name){return ak;}var ai=V(ak,ad),af="",aj=ad.place_cursor?K.getCaretPlaceholder():"",ac="",Z=(ak.isUnary()&&!ak.children.length),aa="",ae="";if(ad.self_closing_tag&&Z){ac="/";}var ab="%"+((ad.tag_case=="upper")?ak.name.toUpperCase():ak.name.toLowerCase());if(ab.toLowerCase()=="%div"&&ai&&ai.indexOf("{")==-1){ab="";}ak.end="";aa=ab+ai+ac;var ah="%s";var ag=ak.start.indexOf(ah);ak.start=ak.start.substring(0,ag)+aa+ak.start.substring(ag+ah.length);if(!ak.children.length&&!Z){ak.start+=aj;}return ak;}function W(Y,ab,ad){ad=ad||0;if(ad==0){Y=K.runFilters(Y,ab,"_format");}for(var aa=0,Z=Y.children.length;aa<Z;aa++){var ac=Y.children[aa];ac=(ac.type=="tag")?X(ac,ab,ad):T(ac,ab,ad);ac.start=K.unescapeText(K.replaceCounter(ac.start,ac.counter));ac.end=K.unescapeText(K.replaceCounter(ac.end,ac.counter));W(ac,ab,ad+1);}return Y;}K.registerFilter("haml",W);})();(function(){var e="${child}",Y=0;function W(ab,aa){switch(String(aa||"").toLowerCase()){case"lower":return ab.toLowerCase();case"upper":return ab.toUpperCase();}return ab;}function V(aa,af){var ad="",ac=af.attr_quotes=="single"?"'":'"',ah=af.place_cursor?K.getCaretPlaceholder():"",ag;for(var ae=0;ae<aa.attributes.length;ae++){var ab=aa.attributes[ae];ag=W(ab.name,af.attr_case);ad+=" "+ag+"="+ac+(ab.value||ah)+ac;}return ad;}function T(ac,ab,ah){var ad=ac.source.value;if(!ad){return Z(ac,ab,ah);}var af=ad.split(e),ag=af[0]||"",aa=af[1]||"",ae=ac.parent?ac.parent.padding:"";ac.start=ac.start.replace("%s",K.padString(ag,ae));ac.end=ac.end.replace("%s",K.padString(aa,ae));return ac;}function U(aa){return(aa.parent&&aa.parent.hasBlockChildren());}function Z(am,af,aa){if(!am.name){return am;}var ak=V(am,af),ah="",al=af.place_cursor?K.getCaretPlaceholder():"",ae="",ab=(am.isUnary()&&!am.children.length),ac="",ag="";if(af.self_closing_tag=="xhtml"){ae=" /";}else{if(af.self_closing_tag===true){ae="/";}}if(am.type!="text"){var ad=W(am.name,af.tag_case);if(ab){ac="<"+ad+ak+ae+">";am.end="";}else{ac="<"+ad+ak+">";ag="</"+ad+">";}}var aj="%s";var ai=am.start.indexOf(aj);am.start=am.start.substring(0,ai)+ac+am.start.substring(ai+aj.length);ai=am.end.indexOf(aj);am.end=am.end.substring(0,ai)+ag+am.end.substring(ai+aj.length);if(!am.children.length&&!ab&&am.content.indexOf(al)==-1){am.start+=al;}return am;}function X(aa,ad,af){af=af||0;if(af==0){aa=K.runFilters(aa,ad,"_format");Y=0;}for(var ac=0,ab=aa.children.length;ac<ab;ac++){var ae=aa.children[ac];ae=(ae.type=="tag")?Z(ae,ad,af):T(ae,ad,af);ae.start=K.unescapeText(K.replaceCounter(ae.start,ae.counter));ae.end=K.unescapeText(K.replaceCounter(ae.end,ae.counter));ae.content=K.unescapeText(K.replaceCounter(ae.content,ae.counter));Y+=K.upgradeTabstops(ae,Y)+1;X(ae,ad,af+1);}return aa;}K.registerFilter("html",X);})();(function(){function e(T,X,aa){for(var W=0,V=T.children.length;W<V;W++){var Y=T.children[W];if(Y.type=="tag"){var Z=/^\s+/;Y.start=Y.start.replace(Z,"");Y.end=Y.end.replace(Z,"");}var U=/[\n\r]/g;Y.start=Y.start.replace(U,"");Y.end=Y.end.replace(U,"");Y.content=Y.content.replace(U,"");e(Y);}return T;}K.registerFilter("s",e);})();(function(){function e(T,W,Y){for(var V=0,U=T.children.length;V<U;V++){var X=T.children[V];if(X.content){X.content=X.content.replace(/^([\s|\u00a0])?[\d|#|\-|\*|\u2022]+\.?\s*/,"$1");}e(X);}return T;}K.registerFilter("t",e);})();(function(){var T={"xsl:variable":1,"xsl:with-param":1};function e(V){V.start=V.start.replace(/\s+select\s*=\s*(['"]).*?\1/,"");}function U(V){for(var X=0,W=V.children.length;X<W;X++){var Y=V.children[X];if(Y.type=="tag"&&Y.name.toLowerCase() in T&&Y.children.length){e(Y);}U(Y);}}K.registerFilter("xsl",U);})();var d=(function(){var W=!!window.opera,V=/mac\s+os/i.test(navigator.userAgent),X={"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},U={"esc":27,"escape":27,"tab":9,"space":32,"return":13,"enter":13,"backspace":8,"scrolllock":145,"scroll_lock":145,"scroll":145,"capslock":20,"caps_lock":20,"caps":20,"numlock":144,"num_lock":144,"num":144,"pause":19,"break":19,"insert":45,"home":36,"delete":46,"end":35,"pageup":33,"page_up":33,"pu":33,"pagedown":34,"page_down":34,"pd":34,"plus":187,"minus":189,"left":37,"up":38,"right":39,"down":40,"f1":112,"f2":113,"f3":114,"f4":115,"f5":116,"f6":117,"f7":118,"f8":119,"f9":120,"f10":121,"f11":122,"f12":123},T={"ctrl":"","control":"","meta":"","shift":"","alt":"","enter":"","tab":"","left":"","right":"","up":"","down":""},Z={"meta":"Ctrl","control":"Ctrl","left":"","right":"","up":"","down":""},Y={SHIFT:1,CTRL:2,ALT:4,META:8};function e(aa){return aa.charAt().toUpperCase()+aa.substring(1);}return{compile:function(af){if(typeof af!="string"){return af;}var aa=0,ag=af.toLowerCase().split("+"),ae,ac;for(var ad=0,ab=ag.length;ad<ab;ad++){ac=ag[ad];if(V&&W){if(ac=="ctrl"||ac=="control"){ac="meta";}else{if(ac=="meta"){ac="ctrl";}}}else{if(!V&&ac=="meta"){ac="ctrl";}}if(ac=="ctrl"||ac=="control"){aa|=Y.CTRL;}else{if(ac=="shift"){aa|=Y.SHIFT;}else{if(ac=="alt"){aa|=Y.ALT;}else{if(ac=="meta"){aa|=Y.META;}else{ae=ac;}}}}}return{mask:aa,key:ae};},test:function(ac,ab){var aa=0,ad=this.compile(ac);if(ab.ctrlKey){aa|=Y.CTRL;}if(ab.shiftKey){aa|=Y.SHIFT;}if(ab.altKey){aa|=Y.ALT;}if(ab.metaKey){aa|=Y.META;}var ae=ab.keyCode?ab.keyCode:ab.which,af=String.fromCharCode(ae).toLowerCase();if(aa!==ad.mask){return false;}if(ad.key.length>1){return U[ad.key]==ae;}else{if(ae==188){af=",";}if(ae==190){af=".";}if(ae==191){af="/";}if(af==ad.key){return true;}if(ab.shiftKey&&X[af]){return X[af]==ad.key;}}return false;},format:function(ag){var af=V?T:Z,ae=V?"":"+",ad=ag.toLowerCase().split("+"),aa=[],ac;for(var ab=0;ab<ad.length;ab++){ac=ad[ab];aa.push(ac in af?af[ac]:e(ac));}return aa.join(ae);}};})();var k=(function(){var ae,e={"html":1,"css":1,"xml":1,"xml":1,"haml":1},V={balance_tag_inward:"match_pair_inward",balance_tag_outward:"match_pair_outward",previous_edit_point:"prev_edit_point",pretty_break:"insert_formatted_line_break"},aa={};function ab(af){return ae.lineContent(ae.nthLine(af))||"";}function W(){var af=0,ag=ae.lineNumber(ae.cursorLine())-1;while(ag>0){af+=ab(ag).length+1;ag--;}return af;}function T(af){return(af.match(/^(\s+)/)||[""])[0];}function Y(ak){var aj=/(\$\d+|\$\{\d+:[^\}]+\})/g,ah=K.getCaretPlaceholder(),ag=["",-1,-1],af=ak.indexOf(ah),ai=false;if(af!=-1){ak=ak.split(ah).join("");}ag[0]=ak.replace(aj,function(am,al){if(!ai){ai=true;ag[1]=ak.indexOf(al);if(af!=-1&&ag[1]>af){ag[1]=ag[2]=af;return"";}else{al=al.replace(/^\$\d+|^\$\{\d+:|\}$/g,"");ag[2]=ag[1]+al.length;return al;}}else{return"";}});if(ag[1]==-1){ag[1]=ag[2]=af;}return ag;}function Z(ak,ag){var ai,ah,af;for(var aj in aa){if(aa.hasOwnProperty(aj)){ai=aa[aj];if(d.test(ai.compiled,ag)){ag.preventDefault();ah=V[ai.action]||ai.action;af=K.runAction(V[ai.action]||ai.action,[k]);return(ah=="expand_abbreviation")?af:true;}}}return false;}function ac(){}function X(aj){var ai=0,af=0;for(var ah=1,ag=ae.lineNumber(ae.lastLine());
ah<=ag;ah++){af=ai+ab(ah).length;if(ai<=aj&&aj<=af){return{line:ae.nthLine(ah),character:aj-ai};}ai=af+1;}return null;}function ad(af){return af.replace(/(^\s+|\s+$)/g,"").replace(/[\s\\\/]+/g,"_").replace(/\./g,"").toLowerCase();}function U(ah,af,ag){aa[ah.toLowerCase()]={compiled:d.compile(ah),label:af,action:ad(ag||af)};}U("Meta+E","Expand Abbreviation");U("Tab","Expand Abbreviation");U("Meta+D","Balance Tag Outward");U("Shift+Meta+D","Balance Tag inward");U("Shift+Meta+A","Wrap with Abbreviation");U("Ctrl+Alt+RIGHT","Next Edit Point");U("Ctrl+Alt+LEFT","Previous Edit Point");U("Meta+L","Select Line");U("Meta+Shift+M","Merge Lines");U("Meta+/","Toggle Comment");U("Meta+J","Split/Join Tag");U("Meta+K","Remove Tag");U("Meta+Y","Evaluate Math Expression");U("Ctrl+UP","Increment number by 1");U("Ctrl+DOWN","Decrement number by 1");U("Alt+UP","Increment number by 0.1");U("Alt+DOWN","Decrement number by 0.1");U("Ctrl+Alt+UP","Increment number by 10");U("Ctrl+Alt+DOWN","Decrement number by 10");return{bind:function(af){var ag=this;af.grabKeys(ac,function(ai,ah){if(ah.type=="keydown"){ag.setContext(af);return Z(ai,ah);}});},setContext:function(af){ae=af;K.setVariable("indentation",K.repeatString(" ",ae.options.indentUnit));},getSelectionRange:function(){var af=this.getCaretPos();return{start:af,end:af+this.getSelection().length};},createSelection:function(ai,ag){var af=X(ai);if(ai==ag){ae.selectLines(af.line,af.character);}else{var ah=X(ag);ae.selectLines(af.line,af.character,ah.line,ah.character);}},getCurrentLineRange:function(){var af=this.getCurrentLine().length,ag=W();return{start:ag,end:ag+af};},getCaretPos:function(){return ae.cursorPosition().character+W();},setCaretPos:function(af){this.createSelection(af,af);},getCurrentLine:function(){return ae.lineContent(ae.cursorLine())||"";},replaceContent:function(ah,ak,ag){var af=this.getCaretPos(),ak=typeof(ak)!=="undefined"?ak:0,ag=typeof(ag)!=="undefined"?ag:this.getContent().length;ah=K.padString(ah,T(this.getCurrentLine()));if(ae.win.asEditorLines){ah=ae.win.asEditorLines(ah).join(K.getNewline());}var aj=Y(ah);ah=aj[0];ak=ak||0;if(aj[1]!==-1){aj[1]+=ak;aj[2]+=ak;}else{aj[1]=aj[2]=ah.length+ak;}try{this.createSelection(ak,ag);ae.editor.replaceSelection(ah);this.createSelection(aj[1],aj[2]);}catch(ai){}},getContent:function(){return ae.getCode();},getSyntax:function(){var ag=ae.options.syntax||"",af=this.getCaretPos();if(!(ag in e)){ag="html";}if(ag=="html"){var ah=K.html_matcher.getTags(this.getContent(),af);if(ah&&ah[0]&&ah[0].type=="tag"&&ah[0].name.toLowerCase()=="style"){if(ah[0].end<=af&&ah[1].start>=af){ag="css";}}}return ag;},getProfileName:function(){if(ae.options.profile){return ae.options.profile;}switch(this.getSyntax()){case"xml":case"xsl":return"xml";case"html":var af=K.getVariable("profile");if(!af){af=this.getContent().search(/<!DOCTYPE[^>]+XHTML/)!=-1?"xhtml":"html";}return af;}return"xhtml";},prompt:function(af){return prompt(af);},getSelection:function(){return ae.selection()||"";},getFilePath:function(){return"";},shortcut:U,unbindShortcut:function(af){af=af.toLowerCase();if(af in aa){delete aa[af];}},getShortcuts:function(){var af=[],ag;for(var ah in aa){if(aa.hasOwnProperty(ah)){ag=ah.toLowerCase();if(ag=="tab"||ag=="enter"){continue;}af.push({keystroke:d.format(ah),label:aa[ah].label,action:aa[ah].action});}}return af;},getInfo:function(){var ah="This CodeMirror editor is powered by Zen Coding project: "+"a set of tools for fast HTML coding.\n\n"+"Available shortcuts:\n";var ag=this.getShortcuts(),ai=[];for(var af=0;af<ag.length;af++){ai.push(ag[af].keystroke+"  "+ag[af].label);}ah+=ai.join("\n")+"\n\n";ah+="More info on http://code.google.com/p/zen-coding/";return ah;},showInfo:function(){alert(this.getInfo());},getCore:function(){return K;},getResourceManager:function(){return M;}};})();return k;})();